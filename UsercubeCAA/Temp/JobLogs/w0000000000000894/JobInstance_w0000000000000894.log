[16:21:11 DBG] HttpClient.Send: PUT https://dev-fusion-iam.caa.group.gca/api/Job/JobInstance/Progression/894?api-version=3.0&jobGroupId=42001&current=0&totalTask=0&state=InProgress&resourceId=-1&cancelRequest=False&retry=False
[16:21:11 VRB] Refreshed token: token expiration date=01/30/2025 16:18:11
[16:21:11 VRB] HandleCommand ReserveTaskInstanceIdCommand
[16:21:11 VRB] Reserve 4 next TaskInstanceId
[16:21:11 DBG] HttpClient.Send: PUT https://dev-fusion-iam.caa.group.gca/api/Job/TaskInstance/GetTaskInstanceId/4?api-version=1.0
[16:21:11 VRB] Check the JobInstance state for JobInstance 894.
[16:21:11 VRB] HandleQuery SelectJobInstanceByIdQuery
[16:21:11 DBG] HttpClient.Send: GET https://dev-fusion-iam.caa.group.gca/api/Job/JobInstance/894?api-version=2.0&squery=select%20State&path=/Jobs/JobInstance/Query&QueryRootEntityType=JobInstance
[16:21:11 INF] ExportTask: OUD_LDAP_ConnectorExport (Level: 0, LaunchOrder: 0)
    Mode: Complete
    ConnectionIdentifier: OUDLDAPExportFulfillment
    ExportType: ExportLdap

[16:21:11 VRB] Check the instance state for Task OUD_LDAP_ConnectorExport
[16:21:11 VRB] HandleCommand TaskInstanceProgressCommand
[16:21:11 DBG] HttpClient.Send: PUT https://dev-fusion-iam.caa.group.gca/api/Job/TaskInstance/Progress?api-version=2.0
[16:21:11 INF] Launch task: ExportTask: OUD_LDAP_ConnectorExport, Task 1/4
[16:21:11 VRB] HandleCommand RunTaskCommand
[16:21:11 INF] Launch ExportTask : OUD_LDAP_ConnectorExport
[16:21:11 DBG] Start Process dotnet Usercube-Export-Ldap.dll --progress-task-instance-id 4964 --api-url "https://dev-fusion-iam.caa.group.gca/" --api-client-id "Job" --log-level 0 --output-path "../Temp\ExportOutput" --connection-identifier "OUDLDAPExportFulfillment" --server "10.240.124.112:2201" --auth-type "Basic" --enable-ssl "True" --no-signing "False" --controls "PagedResult" --tables "entries" "member" --sync-dn "o=unixauthcaashp" "o=unixauthcaashp" --sync-filter "(objectclass=*)" "(&(member=*)(objectclass=*))" --sync-scope "Subtree" "Subtree" --timeout 30 --sizeLimit 5000 --timeLimit 5 --stdin null
[16:21:11 INF] Start process=True PID=10332 dotnet Usercube-Export-Ldap.dll --progress-task-instance-id 4964 --api-url "https://dev-fusion-iam.caa.group.gca/" --api-client-id "Job" --log-level 0 --output-path "../Temp\ExportOutput" --connection-identifier "OUDLDAPExportFulfillment" --server "10.240.124.112:2201" --auth-type "Basic" --enable-ssl "True" --no-signing "False" --controls "PagedResult" --tables "entries" "member" --sync-dn "o=unixauthcaashp" "o=unixauthcaashp" --sync-filter "(objectclass=*)" "(&(member=*)(objectclass=*))" --sync-scope "Subtree" "Subtree" --timeout 30 --sizeLimit 5000 --timeLimit 5 --stdin
[16:21:15 DBG] HttpClient.Send: GET https://dev-fusion-iam.caa.group.gca/api/Job/TaskInstance/4964?api-version=1.0&squery=join%20Task%20t%20select%20t.ContinueOnError%2C%20State&path=/Jobs/TaskInstance/Query&QueryRootEntityType=TaskInstance
[16:21:15 VRB] HandleQuery SelectTaskInstanceInvokeJobQuery
[16:21:15 DBG] HttpClient.Send: GET https://dev-fusion-iam.caa.group.gca/api/Job/TaskInstance/GetTaskInstanceInvokeJob/4964?api-version=2.0&jobInstanceId=894&taskId=65004&jobId=0
[16:21:15 INF] Task: OUD_LDAP_ConnectorExport Completed with state Completed
[16:21:15 VRB] Check the JobInstance state for JobInstance 894.
[16:21:15 VRB] HandleQuery SelectJobInstanceByIdQuery
[16:21:15 DBG] HttpClient.Send: GET https://dev-fusion-iam.caa.group.gca/api/Job/JobInstance/894?api-version=2.0&squery=select%20State&path=/Jobs/JobInstance/Query&QueryRootEntityType=JobInstance
[16:21:15 INF] PrepareSynchronizationTask: OUD_LDAP_ConnectorPrepareSynchronization (Level: 1, LaunchOrder: 0)
    Synchronization Mode: Complete
    Connector: OUD_LDAP
    Parent: OUD_LDAP_ConnectorExport

[16:21:15 VRB] Check the instance state for Task OUD_LDAP_ConnectorPrepareSynchronization
[16:21:15 VRB] HandleCommand TaskInstanceProgressCommand
[16:21:15 DBG] HttpClient.Send: PUT https://dev-fusion-iam.caa.group.gca/api/Job/TaskInstance/Progress?api-version=2.0
[16:21:15 INF] Launch task: PrepareSynchronizationTask: OUD_LDAP_ConnectorPrepareSynchronization, Task 2/4
[16:21:15 VRB] HandleCommand RunTaskCommand
[16:21:15 INF] Launch PrepareSynchronizationTask : OUD_LDAP_ConnectorPrepareSynchronization
[16:21:15 DBG] Start Process dotnet Usercube-Prepare-Synchronization.dll --progress-task-instance-id 4965 --api-url "https://dev-fusion-iam.caa.group.gca/" --api-client-id "Job" --log-level 0 --connector 34001 --working-directory "../Work\Collect" --sources-directory "../Temp\ExportOutput" --synchronization-mode "Complete" --stdin null
[16:21:15 INF] Start process=True PID=4972 dotnet Usercube-Prepare-Synchronization.dll --progress-task-instance-id 4965 --api-url "https://dev-fusion-iam.caa.group.gca/" --api-client-id "Job" --log-level 0 --connector 34001 --working-directory "../Work\Collect" --sources-directory "../Temp\ExportOutput" --synchronization-mode "Complete" --stdin
[16:21:21 DBG] HttpClient.Send: GET https://dev-fusion-iam.caa.group.gca/api/Job/TaskInstance/4965?api-version=1.0&squery=join%20Task%20t%20select%20t.ContinueOnError%2C%20State&path=/Jobs/TaskInstance/Query&QueryRootEntityType=TaskInstance
[16:21:21 VRB] HandleQuery SelectTaskInstanceInvokeJobQuery
[16:21:21 DBG] HttpClient.Send: GET https://dev-fusion-iam.caa.group.gca/api/Job/TaskInstance/GetTaskInstanceInvokeJob/4965?api-version=2.0&jobInstanceId=894&taskId=65009&jobId=0
[16:21:21 INF] Task: OUD_LDAP_ConnectorPrepareSynchronization Completed with state Completed
[16:21:21 DBG] HttpClient.Send: PUT https://dev-fusion-iam.caa.group.gca/api/Job/JobInstance/Progression/894?api-version=3.0&jobGroupId=42001&current=2&totalTask=4&state=InProgress&resourceId=-1&cancelRequest=False&retry=False
[16:21:21 VRB] Check the JobInstance state for JobInstance 894.
[16:21:21 VRB] HandleQuery SelectJobInstanceByIdQuery
[16:21:21 DBG] HttpClient.Send: GET https://dev-fusion-iam.caa.group.gca/api/Job/JobInstance/894?api-version=2.0&squery=select%20State&path=/Jobs/JobInstance/Query&QueryRootEntityType=JobInstance
[16:21:21 INF] SynchronizeTask: OUD_LDAP_ConnectorSynchronization (Level: 2, LaunchOrder: 0)
    Connector: OUD_LDAP
    Parent: OUD_LDAP_ConnectorPrepareSynchronization

[16:21:21 VRB] Check the instance state for Task OUD_LDAP_ConnectorSynchronization
[16:21:21 VRB] HandleCommand TaskInstanceProgressCommand
[16:21:21 DBG] HttpClient.Send: PUT https://dev-fusion-iam.caa.group.gca/api/Job/TaskInstance/Progress?api-version=2.0
[16:21:21 INF] Launch task: SynchronizeTask: OUD_LDAP_ConnectorSynchronization, Task 3/4
[16:21:21 VRB] HandleCommand RunTaskCommand
[16:21:21 DBG] HttpClient.Send: POST https://dev-fusion-iam.caa.group.gca/api/Job/Task/RunTask/65011?api-version=4.0&jobInstanceId=894&jobLogLevel=Trace
[16:21:21 DBG] HttpClient.Send: PUT https://dev-fusion-iam.caa.group.gca/api/Job/JobInstance/Progression/894?api-version=3.0&jobGroupId=42001&current=2&totalTask=4&state=Error&resourceId=-1&cancelRequest=False&retry=False
[16:21:21 ERR] Exception while running state machine for job: 42001
System.Exception: Error while Runtask OUD_LDAP_ConnectorSynchronization
 ---> System.Exception: Error while executing RuntaskCommand: 65011
 ---> System.Exception: Task 65011 launch failed with status code 500 Internal Server Error 
   at Usercube.Application.Jobs.HttpImpl.CommandHandlers.RunTaskCommandHandler.Handle(RunTaskCommand command, IProgress`1 progress, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Usercube.Application.Jobs.HttpImpl.CommandHandlers.RunTaskCommandHandler.Handle(RunTaskCommand command, IProgress`1 progress, CancellationToken cancellationToken)
   at Usercube.Jobs.StateMachine.RunStateMachine.LaunchStepTask(JobStep step, QueryApiContext queryContext, TaskInstanceRef taskInstanceId, Int32 launchOrder, IInvokeJobProgress progress, Int32 totalStep, CommandApiContext commandContext, LogLevel jobLogLevel, Int32 taskTimeoutSupplement, CancellationToken token)
   --- End of inner exception stack trace ---
   at Usercube.Jobs.StateMachine.RunStateMachine.LaunchStepTask(JobStep step, QueryApiContext queryContext, TaskInstanceRef taskInstanceId, Int32 launchOrder, IInvokeJobProgress progress, Int32 totalStep, CommandApiContext commandContext, LogLevel jobLogLevel, Int32 taskTimeoutSupplement, CancellationToken token)
   at Usercube.Jobs.StateMachine.RunStateMachine.LaunchStepsJob(Int32 repairLevel, Job job, ReserveTaskInstanceIdResult reserveInstanceResult, QueryApiContext queryContext, Int32 launchOrder, IInvokeJobProgress progress, Int32 totalStep, CommandApiContext commandContext, LogLevel jobLogLevel, Int32 taskTimeoutSupplement, CancellationToken token)
   at Usercube.Jobs.StateMachine.RunStateMachine.Run(Job job, IInvokeJobProgress progress, QueryApiContext queryContext, CommandApiContext commandContext, LogLevel jobLogLevel, Int32 taskTimeoutSupplement, CancellationToken token)
   at Usercube.InvokeJob.InvokeJobCommandHandler.Handle(InvokeJobCommand invokeJobCommand)
[16:21:21 VRB] HandleCommand SendJobNotificationCommand
[16:21:21 DBG] HttpClient.Send: PUT https://dev-fusion-iam.caa.group.gca/api/Job/Job/Notification?api-version=1.0
